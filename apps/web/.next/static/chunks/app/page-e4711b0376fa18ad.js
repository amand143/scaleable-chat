(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9735:function(e,n,t){Promise.resolve().then(t.bind(t,3774))},3774:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var s=t(7573),r=t(7653),o=t(2550);function c(){let{messages:e,sendMessage:n}=(0,o.s)(),[t,c]=(0,r.useState)("");return(0,s.jsxs)("div",{children:["All texts to appear here",(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{placeholder:"message here",onChange:e=>c(e.target.value)}),(0,s.jsx)("button",{onClick:e=>n(t),children:"send message"})]}),(0,s.jsx)("div",{children:e.map(e=>(0,s.jsx)("li",{children:e}))})]})}},2550:function(e,n,t){"use strict";t.d(n,{SocketProvider:function(){return l},s:function(){return i}});var s=t(7573),r=t(7653),o=t(2397);let c=r.createContext(null),i=()=>{let e=(0,r.useContext)(c);if(!e)throw Error("state undefined");return e},l=e=>{let{children:n}=e,[t,i]=(0,r.useState)(),[l,u]=(0,r.useState)([]),a=e=>{console.log("msg received"),u(n=>[...n,e]),l.forEach(e=>{console.log(e," ")})};return(0,r.useEffect)(()=>{console.log("connecting");let e=(0,o.io)("http://localhost:3001");return e.on("message",a),i(e),()=>{e.off("message",a),e.disconnect(),i(void 0)}},[]),(0,s.jsx)(c.Provider,{value:{sendMessage:e=>{t&&(console.log("here",e),t.emit("event:message",{message:e}))},messages:l},children:n})}}},function(e){e.O(0,[397,293,286,744],function(){return e(e.s=9735)}),_N_E=e.O()}]);